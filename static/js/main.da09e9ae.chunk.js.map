{"version":3,"sources":["js/fixtures.js","js/functions.js","components/Loader.jsx","components/Header.jsx","App.js","styles/globalStyles.js","index.js","redux/usersReducer.js"],"names":["itemsPerPage","URL","paginationUtils","pageLength","this","array","Math","ceil","length","index","threshold","first","last","slice","formatUserData","id","num","toString","nam","str","userName","animation","keyframes","animationRule","css","Spinner","styled","div","Loader","React","Header1","h1","Header","Main","main","UsersList","lazy","ErrorMessageBox","Input","Pagination","App","props","fetchUsers","searchUsers","useState","pattern","setPattern","updatePattern","useCallback","e","target","value","clearInput","useEffect","debouncedSearchUsers","debounce","x","fallback","inputContent","onInputContentChange","onInputClear","connect","dispatch","data","GlobalStyle","createGlobalStyle","store","configureStore","reducer","users","usersReducer","middleware","getDefaultMiddleware","concat","thunk","ReactDOM","render","document","getElementById","showError","createAction","clearError","fetchUsersFailed","fetchUsersSuccess","fetchUsersRequested","matchingUsersFound","matchingUsersNotFound","changePage","initialState","error","code","doesFetchWork","allUsers","matchingUsers","currentPageNumber","numberOfPages","createReducer","builder","addCase","state","action","payload","getNumberOfPages","addDefaultCase","fetch","then","response","json","catch","err","message","getState","filter","item","name","toLowerCase","includes"],"mappings":"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","file":"static/js/main.da09e9ae.chunk.js","sourcesContent":["export const itemsPerPage = 5;\r\nexport const URL = \"https://jsonplaceholder.typicode.com/users\";","import { itemsPerPage } from \"./fixtures\";\r\n\r\nclass PaginationUtils {\r\n  constructor(pageLength) {\r\n    this.pageLength = pageLength;\r\n  }\r\n  getNumberOfPages(array) {\r\n    return Math.ceil(array.length / this.pageLength);\r\n  }\r\n\r\n  sliceSinglePageContent(index, array, threshold) {\r\n    if (index > threshold) index = threshold;\r\n    const first = this.pageLength * (index - 1);\r\n    const last = first + this.pageLength > array.length ? array.length : first + this.pageLength;\r\n    return array.slice(first, last);\r\n  }\r\n}\r\n\r\nexport const paginationUtils = new PaginationUtils(itemsPerPage);\r\n\r\nexport const formatUserData = {\r\n  id: num => `${num.toString()}.`,\r\n  nam: str => str,\r\n  userName: str => `@${str}`,\r\n};\r\n","import * as React from \"react\";\r\nimport styled, { css, keyframes } from \"styled-components\";\r\n\r\nconst animation = keyframes` \r\n  0% {font-size: 12px;}\r\n  50% {font-size: 32px;}\r\n  100% {font-size:12px;}\r\n  `;\r\n\r\nconst animationRule = css`\r\n  ${animation} 1s infinite;\r\n`;\r\nconst Spinner = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  color: rgb(5, 98, 121);\r\n  width: 100px auto;\r\n  height: 40px;\r\n  animation: ${animationRule};\r\n`;\r\n\r\nconst Loader = React.memo(() => <Spinner>Loading...</Spinner>);\r\nexport default Loader;\r\n","import * as React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Header1 = styled.h1`\r\n  text-align: center;\r\n  margin: 30px 0;\r\n  font-size: 32px;\r\n\r\n  @media only screen and (max-width: 667px) {\r\n    margin-top: calc(15px + 15 * ((100vw - 320px) / 347));\r\n    margin-bottom: calc(15px + 15 * ((100vw - 320px) / 347));\r\n  }\r\n\r\n  @media only screen and (max-width: 500px) {\r\n    font-size: calc(26px + 6 * ((100vw - 320px) / 180));\r\n  }\r\n`;\r\n\r\nconst Header = () => {\r\n  return <Header1>Users List</Header1>;\r\n};\r\nexport default React.memo(Header);\r\n","import React, { useState, useEffect, useCallback, lazy, Suspense } from \"react\";\nimport { fetchUsers, searchUsers } from \"./redux/usersReducer\";\nimport debounce from \"lodash/debounce\";\nimport styled from \"styled-components\";\nimport { connect } from \"react-redux\";\nimport Header from \"./components/Header\";\nimport Loader from \"./components/Loader\";\n\nconst Main = styled.main`\nmargin: 0 auto;\nmax-width: 600px;\npadding: 100px 10px 10px 10px;\n  @media only screen and (max-width: 667px) {\n    max-width: 90%;\n    padding-top: calc(10px + 90 * ((100vw - 500px) / 167));\n  }\n}\n`;\nconst UsersList = lazy(() => import(\"./components/UsersList\"));\nconst ErrorMessageBox = lazy(() => import(\"./components/ErrorMessageBox\"));\nconst Input = lazy(() => import(\"./components/Input\"));\nconst Pagination = lazy(() => import(\"./components/Pagination\"));\n\nconst initialPattern = \"\";\n\nlet App = props => {\n  const { fetchUsers, searchUsers } = props;\n  const [pattern, setPattern] = useState(initialPattern);\n\n  const updatePattern = useCallback(e => {\n    setPattern(e.target.value);\n  }, []);\n\n  const clearInput = useCallback(e => {\n    setPattern(initialPattern);\n  }, []);\n\n  useEffect(() => {\n    fetchUsers();\n  }, [fetchUsers]);\n\n  const debouncedSearchUsers = useCallback(\n    debounce(x => searchUsers(x), 500),\n    []\n  );\n\n  useEffect(() => {\n    debouncedSearchUsers(pattern);\n  }, [pattern, debouncedSearchUsers]);\n\n  return (\n    <Main>\n      <Header />\n      <Suspense fallback={<Loader />}>\n        <Input inputContent={pattern} onInputContentChange={updatePattern} onInputClear={clearInput} />\n        <Pagination />\n        <UsersList />\n        <ErrorMessageBox />\n      </Suspense>\n    </Main>\n  );\n};\n\nconst mapDispatchToProps = dispatch => ({\n  fetchUsers: () => dispatch(fetchUsers()),\n  searchUsers: data => dispatch(searchUsers(data)),\n});\n\nApp = connect(null, mapDispatchToProps)(App);\n\nexport default App;\n","import { createGlobalStyle } from 'styled-components';\r\nconst GlobalStyle = createGlobalStyle`\r\n* {\r\n    box-sizing: border-box;\r\n    margin: 0 0;\r\n    padding: 0 0;\r\n  }\r\n  \r\n  html {\r\n    width: 100%;\r\n    min-height: 100%;\r\n  }\r\n  \r\n  body {\r\n    width: 100%;\r\n    min-height: 100vh;\r\n    height: 100%;\r\n    margin: 0;\r\n    font-family: -apple-system, BlinkMacSystemFont, San Francisco, Helvetica Neue, Helvetica, Ubuntu, Roboto, Noto, Segoe UI, Arial, sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n  }\r\n  \r\n  #root {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: auto;\r\n  }\r\n   \r\n`;\r\n \r\nexport default GlobalStyle;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Provider } from \"react-redux\";\nimport thunk from \"redux-thunk\";\nimport { configureStore } from '@reduxjs/toolkit';\nimport usersReducer from './redux/usersReducer';\nimport GlobalStyle from './styles/globalStyles';\n\nexport const store = configureStore({\n  reducer: { users:usersReducer },\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(thunk),\n})\n\nReactDOM.render(\n  <Provider store={store}>\n    <GlobalStyle/>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","import { createAction, createReducer } from \"@reduxjs/toolkit\";\r\nimport { paginationUtils } from \"../js/functions\";\r\nimport { URL } from \"../js/fixtures\";\r\n\r\nexport const showError = createAction(\"ERROR_SHOW\");\r\nexport const clearError = createAction(\"ERROR_CLEAR\");\r\nexport const fetchUsersFailed = createAction(\"FETCH_USERS_FAIL\");\r\nexport const fetchUsersSuccess = createAction(\"FETCH_USERS_SUCCESS\");\r\nexport const fetchUsersRequested = createAction(\"FETCH_USERS_START\");\r\nexport const matchingUsersFound = createAction(\"MATCHING_USERS_SUCCESS\");\r\nexport const matchingUsersNotFound = createAction(\"MATCHING_USERS_FAIL\");\r\nexport const changePage = createAction(\"PAGE_CHANGE\");\r\n\r\nconst initialState = {\r\n  error: { value: false, code: \"\" },\r\n  doesFetchWork: false,\r\n  allUsers: [],\r\n  matchingUsers: [],\r\n  currentPageNumber: 1,\r\n  numberOfPages: 0,\r\n};\r\n\r\nconst usersReducer = createReducer(initialState, builder => {\r\n  builder\r\n    .addCase(changePage, (state, action) => {\r\n      if (action.payload) {\r\n        state.currentPageNumber = action.payload;\r\n      }\r\n    })\r\n    .addCase(matchingUsersFound, (state, action) => {\r\n      if (action.payload) {\r\n        state.matchingUsers = action.payload;\r\n        state.numberOfPages = paginationUtils.getNumberOfPages(action.payload);\r\n      }\r\n    })\r\n    .addCase(matchingUsersNotFound, state => {\r\n      state.error.value = true;\r\n      state.error.code = \"No user matches criteria\";\r\n    })\r\n\r\n    .addCase(fetchUsersFailed, (state, action) => {\r\n      state.doesFetchWork = false;\r\n     \r\n      if (action.payload) {\r\n        state.error.value = true;\r\n        state.error.code = action.payload;\r\n      }\r\n    })\r\n\r\n    .addCase(fetchUsersSuccess, (state, action) => {\r\n      state.doesFetchWork = false;\r\n      if (action.payload) {\r\n        state.allUsers = action.payload;\r\n        state.matchingUsers = action.payload;\r\n        state.numberOfPages = paginationUtils.getNumberOfPages(action.payload);        \r\n      }\r\n    })\r\n\r\n    .addCase(fetchUsersRequested, state => {\r\n      state.doesFetchWork = true;\r\n    })\r\n\r\n    .addCase(showError, (state, action) => {\r\n      if (action.payload) {\r\n        state.error.value = true;\r\n        state.error.code = action.payload;\r\n      }\r\n    })\r\n    .addCase(clearError, state => {\r\n      state.error = initialState.error;\r\n    })\r\n\r\n    .addDefaultCase(() => {});\r\n});\r\n\r\nexport default usersReducer;\r\n\r\nexport function fetchUsers() {\r\n  return dispatch => {\r\n    dispatch(fetchUsersRequested());\r\n    fetch(URL)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        dispatch(fetchUsersSuccess(data));\r\n      })\r\n      .catch(err => dispatch(fetchUsersFailed(\"Podczas pobierania danych nastąpil błąd: \" + err.message)));\r\n  };\r\n}\r\n\r\nexport function searchUsers(pattern) {\r\n  return (dispatch, getState) => {\r\n    var allUsers = getState().users.allUsers;\r\n    if (allUsers && pattern && pattern.length > 0) {\r\n      const matchingUsers = allUsers.filter(item => item.name.toLowerCase().includes(pattern.toLowerCase()));\r\n\r\n      if (matchingUsers.length) {\r\n        dispatch(matchingUsersFound(matchingUsers));\r\n        getState().users.error.value && dispatch(clearError());\r\n      } else {\r\n        dispatch(matchingUsersNotFound());\r\n      }\r\n    } else {\r\n      if (pattern.length === 0) {\r\n        dispatch(matchingUsersFound(allUsers));\r\n      }\r\n    }\r\n  };\r\n}\r\n"],"sourceRoot":""}